# 4. CNUCNM ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ëª©ë¡ ë° ì„¸ë¶€ë‚´ìš©

## ğŸ“‹ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ëª©ë¡

### 1. ì‚¬ìš©ì ê´€ë¦¬ ì„œë¹„ìŠ¤ (User Management Service)
### 2. ë™ë¬¼ ì •ë³´ ê´€ë¦¬ ì„œë¹„ìŠ¤ (Animal Management Service)
### 3. ì‚¬ë£Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„œë¹„ìŠ¤ (Feed Library Service)
### 4. ì˜ì–‘ ìš”êµ¬ëŸ‰ ê³„ì‚° ì„œë¹„ìŠ¤ (Nutrition Requirements Service)
### 5. ì‚¬ë£Œ ë°°í•© ìµœì í™” ì„œë¹„ìŠ¤ (Feed Formulation Service)
### 6. ì˜ì–‘ ë¶„ì„ ì„œë¹„ìŠ¤ (Nutrition Analysis Service)
### 7. ì„­ì·¨ëŸ‰ ì˜ˆì¸¡ ì„œë¹„ìŠ¤ (Intake Prediction Service)
### 8. ë³´ê³ ì„œ ìƒì„± ì„œë¹„ìŠ¤ (Report Generation Service)
### 9. ì•Œë¦¼ ì„œë¹„ìŠ¤ (Notification Service)
### 10. ë°ì´í„° ë¶„ì„ ì„œë¹„ìŠ¤ (Analytics Service)

## ğŸ”§ ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ìƒì„¸ ì„¤ê³„

### 1. ì‚¬ìš©ì ê´€ë¦¬ ì„œë¹„ìŠ¤ (User Management Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì‚¬ìš©ì ì¸ì¦, ê¶Œí•œ ê´€ë¦¬, í”„ë¡œí•„ ê´€ë¦¬
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, PostgreSQL, Redis, JWT
- **í¬íŠ¸**: 8001

#### ë°ì´í„° ëª¨ë¸
```python
# User Model
class User(BaseModel):
    id: UUID
    email: str
    username: str
    password_hash: str
    role: UserRole
    is_active: bool
    created_at: datetime
    updated_at: datetime

# Farm Model
class Farm(BaseModel):
    id: UUID
    user_id: UUID
    name: str
    address: str
    farm_type: FarmType
    animal_count: int
    created_at: datetime

# Subscription Model
class Subscription(BaseModel):
    id: UUID
    user_id: UUID
    plan_type: PlanType
    start_date: datetime
    end_date: datetime
    is_active: bool
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì¸ì¦
POST /auth/register
POST /auth/login
POST /auth/refresh
POST /auth/logout
POST /auth/forgot-password
POST /auth/reset-password

# ì‚¬ìš©ì ê´€ë¦¬
GET /users/me
PUT /users/me
DELETE /users/me
GET /users/{user_id}
PUT /users/{user_id}

# ë†ì¥ ê´€ë¦¬
GET /farms
POST /farms
GET /farms/{farm_id}
PUT /farms/{farm_id}
DELETE /farms/{farm_id}

# êµ¬ë… ê´€ë¦¬
GET /subscriptions
POST /subscriptions
GET /subscriptions/{subscription_id}
PUT /subscriptions/{subscription_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- JWT ê¸°ë°˜ ì¸ì¦
- ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” (bcrypt)
- ì´ë©”ì¼ ì¸ì¦
- ì†Œì…œ ë¡œê·¸ì¸ (Google, Kakao)
- ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
- êµ¬ë… ê´€ë¦¬

---

### 2. ë™ë¬¼ ì •ë³´ ê´€ë¦¬ ì„œë¹„ìŠ¤ (Animal Management Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ë™ë¬¼ ì •ë³´ ë“±ë¡, ê´€ë¦¬, ì¶”ì 
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, PostgreSQL, MinIO
- **í¬íŠ¸**: 8002

#### ë°ì´í„° ëª¨ë¸
```python
# Animal Model
class Animal(BaseModel):
    id: UUID
    farm_id: UUID
    animal_id: str  # ë†ì¥ ë‚´ ê³ ìœ  ID
    breed: BreedType
    gender: GenderType
    birth_date: date
    weight: float
    bcs: float  # Body Condition Score
    stage: PhysiologicalStage
    created_at: datetime

# Animal Health Record
class HealthRecord(BaseModel):
    id: UUID
    animal_id: UUID
    record_type: HealthRecordType
    description: str
    date: date
    veterinarian: str
    treatment: str
    created_at: datetime

# Production Record
class ProductionRecord(BaseModel):
    id: UUID
    animal_id: UUID
    record_date: date
    milk_yield: float
    milk_fat: float
    milk_protein: float
    weight: float
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ë™ë¬¼ ê´€ë¦¬
GET /animals
POST /animals
GET /animals/{animal_id}
PUT /animals/{animal_id}
DELETE /animals/{animal_id}
GET /animals/{animal_id}/history

# ê±´ê°• ê¸°ë¡
GET /animals/{animal_id}/health-records
POST /animals/{animal_id}/health-records
PUT /health-records/{record_id}
DELETE /health-records/{record_id}

# ìƒì‚° ê¸°ë¡
GET /animals/{animal_id}/production-records
POST /animals/{animal_id}/production-records
PUT /production-records/{record_id}
DELETE /production-records/{record_id}

# ê·¸ë£¹ ê´€ë¦¬
GET /animal-groups
POST /animal-groups
GET /animal-groups/{group_id}
PUT /animal-groups/{group_id}
DELETE /animal-groups/{group_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- QRì½”ë“œ/RFID ì—°ë™
- ì²´ì¤‘ ë³€í™” ì¶”ì 
- ìƒì‚°ì„± ëª¨ë‹ˆí„°ë§
- ê±´ê°• ê¸°ë¡ ê´€ë¦¬
- ê·¸ë£¹ë³„ ê´€ë¦¬
- ì‚¬ì§„ ì—…ë¡œë“œ

---

### 3. ì‚¬ë£Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„œë¹„ìŠ¤ (Feed Library Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì‚¬ë£Œ ì •ë³´ ê´€ë¦¬, ê²€ìƒ‰, ë¹„êµ
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, PostgreSQL, Elasticsearch
- **í¬íŠ¸**: 8003

#### ë°ì´í„° ëª¨ë¸
```python
# Feed Model
class Feed(BaseModel):
    id: UUID
    name: str
    name_korean: str
    feed_class: FeedClass
    category: FeedCategory
    description: str
    created_at: datetime

# Feed Nutrient Composition
class FeedNutrient(BaseModel):
    id: UUID
    feed_id: UUID
    dry_matter: float
    crude_protein: float
    crude_fat: float
    crude_fiber: float
    ndf: float
    adf: float
    tdn: float
    me: float
    calcium: float
    phosphorus: float
    created_at: datetime

# Feed Price
class FeedPrice(BaseModel):
    id: UUID
    feed_id: UUID
    price_per_kg: float
    currency: str
    effective_date: date
    supplier: str
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì‚¬ë£Œ ê´€ë¦¬
GET /feeds
POST /feeds
GET /feeds/{feed_id}
PUT /feeds/{feed_id}
DELETE /feeds/{feed_id}

# ì‚¬ë£Œ ê²€ìƒ‰
GET /feeds/search
GET /feeds/search/advanced
GET /feeds/compare

# ì˜ì–‘ ì„±ë¶„
GET /feeds/{feed_id}/nutrients
POST /feeds/{feed_id}/nutrients
PUT /nutrients/{nutrient_id}

# ê°€ê²© ì •ë³´
GET /feeds/{feed_id}/prices
POST /feeds/{feed_id}/prices
GET /feeds/prices/current

# ì‚¬ìš©ì ì •ì˜ ì‚¬ë£Œ
GET /custom-feeds
POST /custom-feeds
PUT /custom-feeds/{feed_id}
DELETE /custom-feeds/{feed_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- ê³ ê¸‰ ê²€ìƒ‰ (Elasticsearch)
- ì˜ì–‘ì„±ë¶„ ë¹„êµ
- ê°€ê²© ì¶”ì 
- ì‚¬ìš©ì ì •ì˜ ì‚¬ë£Œ
- í’ˆì§ˆ ì¸ì¦ ì •ë³´
- ê³µê¸‰ì—…ì²´ ì •ë³´

---

### 4. ì˜ì–‘ ìš”êµ¬ëŸ‰ ê³„ì‚° ì„œë¹„ìŠ¤ (Nutrition Requirements Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: NASEM ê¸°ì¤€ ì˜ì–‘ ìš”êµ¬ëŸ‰ ê³„ì‚°
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, NumPy, SciPy, Redis
- **í¬íŠ¸**: 8004

#### ë°ì´í„° ëª¨ë¸
```python
# Animal Input Data
class AnimalInput(BaseModel):
    animal_id: UUID
    breed: BreedType
    stage: PhysiologicalStage
    weight: float
    age_months: int
    bcs: float
    milk_yield: float
    milk_fat: float
    milk_protein: float
    target_adg: float
    pregnancy_day: int
    environment_temp: float

# Nutrition Requirements
class NutritionRequirements(BaseModel):
    animal_id: UUID
    maintenance_energy: float
    maintenance_protein: float
    growth_energy: float
    growth_protein: float
    lactation_energy: float
    lactation_protein: float
    pregnancy_energy: float
    pregnancy_protein: float
    total_energy: float
    total_protein: float
    calculated_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì˜ì–‘ ìš”êµ¬ëŸ‰ ê³„ì‚°
POST /nutrition/calculate-requirements
GET /nutrition/requirements/{animal_id}
GET /nutrition/requirements/{animal_id}/history

# ê³„ì‚° ì„¤ì •
GET /nutrition/calculation-settings
PUT /nutrition/calculation-settings

# í™˜ê²½ ë³´ì •
POST /nutrition/environment-adjustment
POST /nutrition/stress-adjustment

# í’ˆì¢…ë³„ íŠ¹ì„±
GET /nutrition/breed-characteristics
PUT /nutrition/breed-characteristics
```

#### ì£¼ìš” ê¸°ëŠ¥
- NASEM(2024) ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- ìƒë¦¬ì  ë‹¨ê³„ë³„ ê³„ì‚°
- í™˜ê²½ ìš”ì¸ ë³´ì •
- í’ˆì¢…ë³„ íŠ¹ì„± ë°˜ì˜
- ê³„ì‚° ê²°ê³¼ ìºì‹±
- ê³„ì‚° ì´ë ¥ ê´€ë¦¬

---

### 5. ì‚¬ë£Œ ë°°í•© ìµœì í™” ì„œë¹„ìŠ¤ (Feed Formulation Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì„ í˜•ê³„íšë²•ì„ í†µí•œ ìµœì  ì‚¬ë£Œ ë°°í•©
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, PuLP, NumPy, Redis
- **í¬íŠ¸**: 8005

#### ë°ì´í„° ëª¨ë¸
```python
# Formulation Input
class FormulationInput(BaseModel):
    animal_id: UUID
    target_dmi: float
    available_feeds: List[UUID]
    nutrient_constraints: Dict[str, NutrientConstraint]
    cost_objective: bool
    environmental_objective: bool

# Nutrient Constraint
class NutrientConstraint(BaseModel):
    nutrient: str
    min_value: float
    max_value: float
    unit: str

# Formulation Result
class FormulationResult(BaseModel):
    id: UUID
    animal_id: UUID
    feed_mixture: Dict[str, float]  # feed_id: percentage
    total_cost: float
    nutrient_composition: Dict[str, float]
    constraint_satisfaction: Dict[str, bool]
    optimization_status: str
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ë°°í•© ìµœì í™”
POST /formulation/optimize
GET /formulation/results/{result_id}
GET /formulation/history/{animal_id}

# ì œì•½ì¡°ê±´ ê´€ë¦¬
GET /formulation/constraints
POST /formulation/constraints
PUT /formulation/constraints/{constraint_id}

# ë°°í•© ê²€ì¦
POST /formulation/validate
POST /formulation/compare

# ë¹„ìš© ë¶„ì„
GET /formulation/cost-analysis/{result_id}
POST /formulation/cost-sensitivity
```

#### ì£¼ìš” ê¸°ëŠ¥
- ì„ í˜•ê³„íšë²• ìµœì í™” (PuLP)
- ë‹¤ì¤‘ ëª©í‘œ ìµœì í™”
- ì œì•½ì¡°ê±´ ê´€ë¦¬
- ë°°í•© ê²€ì¦
- ë¹„ìš© ë¯¼ê°ë„ ë¶„ì„
- ëŒ€ì•ˆ ë°°í•© ì œì‹œ

---

### 6. ì˜ì–‘ ë¶„ì„ ì„œë¹„ìŠ¤ (Nutrition Analysis Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì˜ì–‘ì†Œ ë¶„ì„, ê· í˜• í‰ê°€, ì§„ë‹¨
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, NumPy, Pandas
- **í¬íŠ¸**: 8006

#### ë°ì´í„° ëª¨ë¸
```python
# Nutrition Analysis Input
class NutritionAnalysisInput(BaseModel):
    animal_id: UUID
    feed_mixture: Dict[str, float]
    current_intake: float

# Nutrition Analysis Result
class NutritionAnalysisResult(BaseModel):
    id: UUID
    animal_id: UUID
    nutrient_composition: Dict[str, float]
    nutrient_ratios: Dict[str, float]
    balance_score: float
    deficiencies: List[str]
    excesses: List[str]
    recommendations: List[str]
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì˜ì–‘ ë¶„ì„
POST /analysis/analyze-nutrition
GET /analysis/results/{result_id}
GET /analysis/history/{animal_id}

# ê· í˜• í‰ê°€
POST /analysis/balance-assessment
GET /analysis/balance-scores

# ì§„ë‹¨ ë° ì œì•ˆ
POST /analysis/diagnose
POST /analysis/recommendations

# ë¹„êµ ë¶„ì„
POST /analysis/compare
GET /analysis/trends/{animal_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- ì˜ì–‘ì†Œ í•¨ëŸ‰ ê³„ì‚°
- ì˜ì–‘ì†Œ ë¹„ìœ¨ ë¶„ì„
- ê· í˜• ì ìˆ˜ ê³„ì‚°
- ë¶€ì¡±/ê³¼ì‰ ì§„ë‹¨
- ê°œì„  ë°©ì•ˆ ì œì•ˆ
- íŠ¸ë Œë“œ ë¶„ì„

---

### 7. ì„­ì·¨ëŸ‰ ì˜ˆì¸¡ ì„œë¹„ìŠ¤ (Intake Prediction Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì‚¬ë£Œ ì„­ì·¨ëŸ‰ ì˜ˆì¸¡ ë° ë¶„ì„
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, Scikit-learn, NumPy
- **í¬íŠ¸**: 8007

#### ë°ì´í„° ëª¨ë¸
```python
# Intake Prediction Input
class IntakePredictionInput(BaseModel):
    animal_id: UUID
    feed_mixture: Dict[str, float]
    environmental_factors: EnvironmentalFactors
    historical_data: List[HistoricalIntake]

# Environmental Factors
class EnvironmentalFactors(BaseModel):
    temperature: float
    humidity: float
    season: str
    stress_level: float

# Intake Prediction Result
class IntakePredictionResult(BaseModel):
    id: UUID
    animal_id: UUID
    predicted_intake: float
    confidence_interval: Tuple[float, float]
    factors_impact: Dict[str, float]
    recommendations: List[str]
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì„­ì·¨ëŸ‰ ì˜ˆì¸¡
POST /intake/predict
GET /intake/predictions/{prediction_id}
GET /intake/history/{animal_id}

# ëª¨ë¸ ê´€ë¦¬
GET /intake/models
POST /intake/models/train
PUT /intake/models/{model_id}

# ì •í™•ë„ í‰ê°€
POST /intake/accuracy-assessment
GET /intake/accuracy-metrics

# í™˜ê²½ ì˜í–¥ ë¶„ì„
POST /intake/environmental-impact
GET /intake/seasonal-patterns
```

#### ì£¼ìš” ê¸°ëŠ¥
- ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ì˜ˆì¸¡
- í™˜ê²½ ìš”ì¸ ë°˜ì˜
- ê³„ì ˆì„± íŒ¨í„´ ë¶„ì„
- ì˜ˆì¸¡ ì •í™•ë„ í‰ê°€
- ëª¨ë¸ ìë™ í•™ìŠµ
- ê°œì²´ë³„ ì°¨ì´ ë³´ì •

---

### 8. ë³´ê³ ì„œ ìƒì„± ì„œë¹„ìŠ¤ (Report Generation Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ë‹¤ì–‘í•œ í˜•íƒœì˜ ë³´ê³ ì„œ ìƒì„±
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, ReportLab, Pandas, MinIO
- **í¬íŠ¸**: 8008

#### ë°ì´í„° ëª¨ë¸
```python
# Report Template
class ReportTemplate(BaseModel):
    id: UUID
    name: str
    type: ReportType
    template_data: Dict
    created_at: datetime

# Report Request
class ReportRequest(BaseModel):
    template_id: UUID
    data_source: Dict[str, Any]
    format: ReportFormat
    parameters: Dict[str, Any]

# Generated Report
class GeneratedReport(BaseModel):
    id: UUID
    template_id: UUID
    file_url: str
    file_size: int
    format: ReportFormat
    generated_at: datetime
    expires_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ë³´ê³ ì„œ ìƒì„±
POST /reports/generate
GET /reports/{report_id}
GET /reports/{report_id}/download

# í…œí”Œë¦¿ ê´€ë¦¬
GET /reports/templates
POST /reports/templates
PUT /reports/templates/{template_id}
DELETE /reports/templates/{template_id}

# ë³´ê³ ì„œ ì´ë ¥
GET /reports/history
GET /reports/history/{user_id}

# ë°ì´í„° ë‚´ë³´ë‚´ê¸°
POST /reports/export
GET /reports/export/{export_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- PDF ë³´ê³ ì„œ ìƒì„±
- Excel ë°ì´í„° ë‚´ë³´ë‚´ê¸°
- ì°¨íŠ¸ ë° ê·¸ë˜í”„ ìƒì„±
- ë§ì¶¤í˜• í…œí”Œë¦¿
- ìë™ ë³´ê³ ì„œ ìŠ¤ì¼€ì¤„ë§
- ë³´ê³ ì„œ ê³µìœ 

---

### 9. ì•Œë¦¼ ì„œë¹„ìŠ¤ (Notification Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ë‹¤ì–‘í•œ ì•Œë¦¼ ë° ê²½ê³  ê´€ë¦¬
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, RabbitMQ, Redis
- **í¬íŠ¸**: 8009

#### ë°ì´í„° ëª¨ë¸
```python
# Notification Template
class NotificationTemplate(BaseModel):
    id: UUID
    name: str
    type: NotificationType
    title_template: str
    body_template: str
    channels: List[NotificationChannel]

# Notification
class Notification(BaseModel):
    id: UUID
    user_id: UUID
    template_id: UUID
    title: str
    body: str
    data: Dict[str, Any]
    channels: List[NotificationChannel]
    status: NotificationStatus
    sent_at: datetime
    read_at: datetime

# Notification Rule
class NotificationRule(BaseModel):
    id: UUID
    user_id: UUID
    name: str
    conditions: Dict[str, Any]
    template_id: UUID
    is_active: bool
    created_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì•Œë¦¼ ê´€ë¦¬
GET /notifications
POST /notifications
GET /notifications/{notification_id}
PUT /notifications/{notification_id}/read
DELETE /notifications/{notification_id}

# í…œí”Œë¦¿ ê´€ë¦¬
GET /notifications/templates
POST /notifications/templates
PUT /notifications/templates/{template_id}

# ê·œì¹™ ê´€ë¦¬
GET /notifications/rules
POST /notifications/rules
PUT /notifications/rules/{rule_id}
DELETE /notifications/rules/{rule_id}

# ì„¤ì • ê´€ë¦¬
GET /notifications/settings
PUT /notifications/settings
```

#### ì£¼ìš” ê¸°ëŠ¥
- ì´ë©”ì¼ ì•Œë¦¼
- SMS ì•Œë¦¼
- í‘¸ì‹œ ì•Œë¦¼
- ì›¹ ì•Œë¦¼
- ì•Œë¦¼ ê·œì¹™ ì„¤ì •
- ì•Œë¦¼ ì´ë ¥ ê´€ë¦¬

---

### 10. ë°ì´í„° ë¶„ì„ ì„œë¹„ìŠ¤ (Analytics Service)

#### ì„œë¹„ìŠ¤ ê°œìš”
- **ëª©ì **: ì‚¬ìš© íŒ¨í„´ ë¶„ì„ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸
- **ê¸°ìˆ  ìŠ¤íƒ**: FastAPI, Pandas, NumPy, Elasticsearch
- **í¬íŠ¸**: 8010

#### ë°ì´í„° ëª¨ë¸
```python
# Analytics Event
class AnalyticsEvent(BaseModel):
    id: UUID
    user_id: UUID
    event_type: str
    event_data: Dict[str, Any]
    timestamp: datetime
    session_id: str

# Analytics Metric
class AnalyticsMetric(BaseModel):
    id: UUID
    metric_name: str
    metric_value: float
    dimensions: Dict[str, Any]
    timestamp: datetime

# Analytics Report
class AnalyticsReport(BaseModel):
    id: UUID
    report_type: str
    data: Dict[str, Any]
    generated_at: datetime
    expires_at: datetime
```

#### API ì—”ë“œí¬ì¸íŠ¸
```python
# ì´ë²¤íŠ¸ ì¶”ì 
POST /analytics/events
GET /analytics/events

# ë©”íŠ¸ë¦­ ìˆ˜ì§‘
POST /analytics/metrics
GET /analytics/metrics

# ë¶„ì„ ë¦¬í¬íŠ¸
GET /analytics/reports
POST /analytics/reports/generate
GET /analytics/reports/{report_id}

# ëŒ€ì‹œë³´ë“œ
GET /analytics/dashboard
GET /analytics/dashboard/{dashboard_id}

# ì‚¬ìš©ì í–‰ë™ ë¶„ì„
GET /analytics/user-behavior
GET /analytics/user-behavior/{user_id}
```

#### ì£¼ìš” ê¸°ëŠ¥
- ì‚¬ìš©ì í–‰ë™ ì¶”ì 
- ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¶„ì„
- ì˜ˆì¸¡ ë¶„ì„
- ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ
- ì»¤ìŠ¤í…€ ë¦¬í¬íŠ¸

---

## ğŸ”„ ì„œë¹„ìŠ¤ ê°„ í†µì‹ 

### ë™ê¸° í†µì‹  (REST API)
```python
# ì„œë¹„ìŠ¤ ê°„ HTTP í†µì‹ 
import httpx

async def get_user_info(user_id: str):
    async with httpx.AsyncClient() as client:
        response = await client.get(f"http://user-service:8001/users/{user_id}")
        return response.json()
```

### ë¹„ë™ê¸° í†µì‹  (RabbitMQ)
```python
# ì´ë²¤íŠ¸ ë°œí–‰
import pika

def publish_event(event_type: str, event_data: dict):
    connection = pika.BlockingConnection(pika.ConnectionParameters('rabbitmq'))
    channel = connection.channel()
    channel.basic_publish(
        exchange='cnucnm_events',
        routing_key=event_type,
        body=json.dumps(event_data)
    )
```

## ğŸ“Š ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§

### í—¬ìŠ¤ ì²´í¬
```python
# ê° ì„œë¹„ìŠ¤ì˜ í—¬ìŠ¤ ì²´í¬ ì—”ë“œí¬ì¸íŠ¸
GET /health
GET /health/ready
GET /health/live
```

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘
```python
# Prometheus ë©”íŠ¸ë¦­
from prometheus_client import Counter, Histogram

request_count = Counter('http_requests_total', 'Total HTTP requests')
request_duration = Histogram('http_request_duration_seconds', 'HTTP request duration')
```

---

*ì´ ë¬¸ì„œëŠ” ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ìƒì„¸í•œ ì„¤ê³„ì™€ API ëª…ì„¸ë¥¼ ì •ì˜í•˜ë©°, ê°œë°œ ë° êµ¬í˜„ì˜ êµ¬ì²´ì ì¸ ê°€ì´ë“œë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤.*
