# 2. CNUCNM 마이크로서비스 기능 목록 및 세부내용

## 📋 기존 R 시스템 기능 분석

### 1. 핵심 계산 기능
- **영양 요구량 계산**: NASEM(2024) 기준
- **사료 배합 최적화**: 선형계획법
- **영양소 조성 분석**: 사료별 영양 성분
- **섭취량 예측**: 동물별 사료 섭취량

### 2. 데이터 관리 기능
- **사료 라이브러리**: 984개 사료 데이터
- **동물 정보 관리**: 품종, 체중, 생리적 상태
- **계산 결과 저장**: 영양 분석 결과

## 🎯 새로운 마이크로서비스 기능 목록

### 1. 사용자 관리 서비스 (User Management Service)
#### 기능
- **회원가입/로그인**: 이메일, 소셜 로그인
- **프로필 관리**: 농장 정보, 사용자 설정
- **권한 관리**: 역할 기반 접근 제어 (RBAC)
- **구독 관리**: 요금제 및 결제 관리

#### 세부내용
```
- 사용자 인증 (JWT 토큰)
- 비밀번호 재설정
- 이메일 인증
- 프로필 사진 업로드
- 농장 정보 등록/수정
- 사용량 통계
- 결제 내역 조회
```

### 2. 동물 정보 관리 서비스 (Animal Management Service)
#### 기능
- **동물 등록**: 개체별 정보 입력
- **군 관리**: 농장별 동물 그룹 관리
- **생리적 상태 추적**: 연령, 체중, 생산성 변화
- **건강 기록**: 질병, 치료, 예방접종

#### 세부내용
```
- 동물 ID 생성 (QR코드, RFID 연동)
- 품종별 기본 정보 템플릿
- 체중 변화 그래프
- 생산성 추이 분석
- 번식 정보 관리
- 사진 업로드
- 동물 이동 이력
```

### 3. 사료 라이브러리 서비스 (Feed Library Service)
#### 기능
- **사료 데이터베이스**: 984개 사료 정보
- **사료 검색**: 이름, 분류, 영양성분별 검색
- **사료 비교**: 영양성분 비교 분석
- **사용자 정의 사료**: 개별 사료 등록

#### 세부내용
```
- 사료 분류별 필터링
- 영양성분 범위 검색
- 사료 가격 정보
- 공급업체 정보
- 사료 품질 인증 정보
- 사용자 평가 및 리뷰
- 사료 이미지 업로드
```

### 4. 영양 요구량 계산 서비스 (Nutrition Requirements Service)
#### 기능
- **NASEM 계산**: 2024년 기준 영양 요구량
- **생리적 단계별 계산**: 송아지~건유기
- **품종별 특성**: 한우, 홀스타인 등
- **환경 요인**: 온도, 습도, 활동량

#### 세부내용
```
- 유지 요구량 계산
- 성장 요구량 계산
- 번식 요구량 계산
- 유산 요구량 계산
- 체중 변화에 따른 요구량 조정
- 환경 스트레스 보정
- 개체별 차이 보정
```

### 5. 사료 배합 최적화 서비스 (Feed Formulation Service)
#### 기능
- **선형계획법**: 비용 최소화 최적화
- **제약조건 설정**: 영양소 상한/하한
- **다중 목표 최적화**: 비용, 영양, 환경
- **배합 검증**: 영양 균형 검토

#### 세부내용
```
- 9개 영양소 제약조건
- 사료 가격 실시간 반영
- 배합 비율 제한 설정
- 대안 배합 제시
- 영양소 과부족 분석
- 배합 비용 분석
- 배합 이력 관리
```

### 6. 영양 분석 서비스 (Nutrition Analysis Service)
#### 기능
- **영양소 분석**: CP, RUP, NDF, ME 등
- **균형 평가**: 영양소 균형 분석
- **부족/과잉 진단**: 영양소 문제점 식별
- **개선 제안**: 영양 개선 방안 제시

#### 세부내용
```
- 영양소 함량 계산
- 영양소 비율 분석
- 영양소 상호작용 분석
- 영양소 흡수율 계산
- 영양소 과부족 경고
- 개선 방안 자동 제안
- 분석 리포트 생성
```

### 7. 섭취량 예측 서비스 (Intake Prediction Service)
#### 기능
- **사료 섭취량 예측**: 동물별 예상 섭취량
- **선호도 분석**: 사료별 선호도
- **환경 영향**: 온도, 습도에 따른 변화
- **계절성 분석**: 계절별 섭취량 변화

#### 세부내용
```
- 체중 기반 섭취량 예측
- 생산성 기반 섭취량 조정
- 사료 품질에 따른 조정
- 환경 스트레스 보정
- 개체별 차이 보정
- 섭취량 변화 추이 분석
- 섭취량 예측 정확도 평가
```

### 8. 보고서 생성 서비스 (Report Generation Service)
#### 기능
- **영양 분석 리포트**: 상세한 영양 분석 결과
- **배합 최적화 리포트**: 최적 배합 상세 분석
- **경제성 분석**: 비용 효율성 분석
- **트렌드 분석**: 시계열 데이터 분석

#### 세부내용
```
- PDF 리포트 생성
- Excel 데이터 내보내기
- 차트 및 그래프 생성
- 비교 분석 리포트
- 월간/연간 요약 리포트
- 맞춤형 리포트 템플릿
- 리포트 공유 기능
```

### 9. 알림 서비스 (Notification Service)
#### 기능
- **영양 경고**: 영양소 과부족 알림
- **배합 변경 알림**: 사료 가격 변동 시
- **건강 관리 알림**: 체중 변화, 생산성 저하
- **시스템 알림**: 업데이트, 점검 등

#### 세부내용
```
- 이메일 알림
- SMS 알림
- 푸시 알림 (모바일 앱)
- 웹 알림
- 알림 설정 관리
- 알림 이력 조회
- 알림 우선순위 설정
```

### 10. 데이터 분석 서비스 (Analytics Service)
#### 기능
- **사용 패턴 분석**: 사용자 행동 분석
- **성능 분석**: 시스템 성능 모니터링
- **비즈니스 분석**: 수익, 사용자 통계
- **예측 분석**: 향후 트렌드 예측

#### 세부내용
```
- 사용자 행동 추적
- API 호출 통계
- 성능 지표 수집
- 오류 로그 분석
- 사용자 만족도 분석
- 수익 분석
- 시장 트렌드 분석
```

## 🔄 기능 간 연관관계

### 데이터 흐름
```
사용자 입력 → 동물 정보 → 영양 요구량 계산 → 사료 배합 최적화 → 영양 분석 → 보고서 생성
```

### 서비스 의존성
- **모든 서비스** → 사용자 관리 서비스 (인증)
- **영양 계산 서비스들** → 사료 라이브러리 서비스
- **배합 최적화** → 영양 요구량 + 사료 라이브러리
- **보고서 생성** → 모든 계산 결과

## 📊 기능 우선순위

### Phase 1 (핵심 기능)
1. 사용자 관리 서비스
2. 동물 정보 관리 서비스
3. 사료 라이브러리 서비스
4. 영양 요구량 계산 서비스
5. 사료 배합 최적화 서비스

### Phase 2 (확장 기능)
6. 영양 분석 서비스
7. 섭취량 예측 서비스
8. 보고서 생성 서비스

### Phase 3 (고급 기능)
9. 알림 서비스
10. 데이터 분석 서비스

---

*이 문서는 각 마이크로서비스가 제공할 구체적인 기능들을 정의하며, 개발 우선순위와 구현 계획의 기준이 됩니다.*
