# CNUCNM (Chungnam National University Cattle Nutrition Model) 시스템 검토

## 📁 프로젝트 개요

CNUCNM은 소의 영양 요구량 계산 및 사료 배합 최적화를 위한 종합적인 R 기반 시스템입니다. NASEM(2024) 기준을 따르며, 선형계획법을 활용한 비용 최소화 사료 배합 기능을 제공합니다.

## 📂 디렉토리 구조

```
1.references/
├── 1.present_r/          # 현재 버전의 R 코드들
│   ├── CNUCNM_LP.R       # 선형계획법 사료 배합 최적화
│   ├── NASEM_dairy_requirements.R  # NASEM 기준 영양 요구량
│   ├── constants_equations_v3.R    # 상수 및 기본 방정식
│   ├── load_FL.R         # 사료 라이브러리 로딩
│   ├── nutrient_composition_lib.R  # 영양소 조성
│   ├── maintenance_requirements_lib.R  # 유지 요구량
│   ├── growth_requirements_v2.R    # 성장 요구량
│   ├── protein_supply_lib.R        # 단백질 공급
│   ├── energy_supply_lib.R         # 에너지 공급
│   ├── intake_prediction_lib.R     # 섭취량 예측
│   ├── NASEM_milk_lib.R           # 우유 생산
│   └── version_check.R            # 버전 확인
└── 2.old_sources/        # 이전 버전의 소스 코드들
    ├── Libs/             # 라이브러리 모듈들 (20개+)
    ├── Database/         # 사료 데이터베이스
    ├── test/             # 테스트 파일들
    ├── CNU_CNM_Running.R # 메인 실행 파일
    ├── cncps_config.txt  # 설정 파일
    └── MCSimulation_Execute.R  # 몬테카를로 시뮬레이션
```

## 🔧 주요 기능

### 1. 영양 요구량 계산 (NASEM_dairy_requirements.R)
- **NASEM(2024) 기준**에 따른 과학적 영양 요구량 계산
- **생리적 단계별 지원**:
  - 송아지 (Calf)
  - 성장기 (Growing Heifer)
  - 비육기 (Fattening)
  - 유우 (Lactating Cow)
  - 건유기 (Dry Cow)
- **품종별 특성 반영**: 한우, 홀스타인 등

### 2. 사료 배합 최적화 (CNUCNM_LP.R)
- **선형계획법(Linear Programming)** 활용
- **목표**: 비용 최소화
- **고려 영양소**:
  - CP (Crude Protein)
  - RUP (Rumen Undegradable Protein)
  - Starch (전분)
  - NDF (Neutral Detergent Fiber)
  - FNDF (Forage NDF)
  - Forage (조사료 비율)
  - TDN (Total Digestible Nutrients)
  - ME (Metabolizable Energy)
  - MP (Metabolizable Protein)

### 3. 상수 및 기본 방정식 (constants_equations_v3.R)
- **체중 변환 계수**:
  - FBW → SBW: 0.96
  - SBW → EBW: 0.891
  - ADG → SWG: 1.0
  - SWG → EWG: 0.956
- **기본 상수**:
  - 임신 기간: 283일
  - 월별 일수: 30.4일
  - 우유 CP → TP 변환: 0.951

### 4. 참조값 및 표준
- **2024년 검정우 평균값**:
  - 305일 유량: 10,159kg
  - 평균 유량: 33.3kg/일
  - 유지방: 4.02%
  - 유단백: 3.22%
- **품종별 성숙 체중**:
  - 한우: 474kg (암소), 700kg (거세우)
  - 홀스타인: 700kg (암소), 800kg (거세우)

## 📊 데이터베이스

### 사료 라이브러리 (Database/)
- **KoreanFeedLibrary_convert.csv**: 984개 사료의 영양 성분 데이터
- **사료 분류**: 조사료, 농후사료, 부산물 등
- **영양 성분**: 조단백, 조지방, 조섬유, NDF, ADF, TDN, ME 등

### 동물 정보
- **생리적 상태**: 연령, 체중, BCS, 산차, 착유일수
- **생산성**: 유량, 유지방, 유단백, 목표 증체량
- **번식 정보**: 임신일수, 분만 간격

## 🔄 시스템 실행 흐름

### 현재 버전 (1.present_r/)
1. **데이터 입력**: 동물 정보, 사료 정보, 목표 영양소
2. **영양 요구량 계산**: NASEM 기준에 따른 요구량 산정
3. **사료 배합 최적화**: 선형계획법을 통한 최적 배합
4. **결과 출력**: 영양소 함량, 총 비용, 사료 배합 비율

### 이전 버전 (2.old_sources/)
1. **설정 파일 로드**: `cncps_config.txt`
2. **모듈별 계산**: 20여 개의 전문화된 계산 모듈
3. **결과 종합**: CNCPS 요약 보고서 생성

## 📈 시스템 특징

### 장점
- **과학적 근거**: NASEM(2024) 최신 기준 적용
- **종합적 접근**: 영양 요구량부터 사료 배합까지 일관된 시스템
- **품종별 차이**: 한우, 홀스타인 등 품종 특성 반영
- **비용 최적화**: 선형계획법을 통한 경제적 사료 배합

### 활용 분야
- **축산 농가**: 과학적 사료 배합 및 영양 관리
- **사료 회사**: 최적 사료 조성 개발
- **연구 기관**: 영양 연구 및 교육
- **정책 기관**: 축산 정책 수립 지원

## 🔍 기술적 세부사항

### 사용 패키지
- `tidyverse`: 데이터 처리 및 시각화
- `lpSolve`: 선형계획법 최적화
- 기타 R 기본 패키지들

### 파일 크기
- **NASEM_dairy_requirements.R**: 74KB (1,377줄)
- **constants_equations_v3.R**: 24KB (821줄)
- **사료 라이브러리**: 405KB (984개 사료)

### 최종 업데이트
- **현재 버전**: 2024년 8월 5일
- **지속적 개발**: 버전 관리 및 기능 개선 중

---

*이 문서는 CNUCNM 시스템의 종합적인 검토 결과를 담고 있으며, 축산 영양 관리의 과학적 접근을 위한 중요한 도구임을 보여줍니다.*
